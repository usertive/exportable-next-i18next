# With namespaces

This example application differs from the [simple](../simple) one as follows:

```text
Create new resources structure to include divisions between languages and namespaces.

/public
└── locales
    ├── de
    │   ├── common.json
    │   ├── home.json
    │   └── support.json
    └── en
        ├── common.json
        ├── home.json
        └── support.json
```

```ts
// exportable-next-i18next.config.ts

export const config: Config = {
  ...
  i18nextOptions: {
    // Declare available namespaces, default namespace and fallback namespace
    ns: ['common', 'home', 'support'],
    defaultNS: 'common',
    fallbackNS: 'common',
    
    // Adjust resource paths to include {{ns}} variable
    backend: {
      addPath: './public/locales/{{lng}}/{{ns}}.missing.json',
      loadPath: './public/locales/{{lng}}/{{ns}}.json',
    },
    
    ...
  },
};
```

```tsx
// src/pages/[lang]/index.tsx

export const getStaticProps = async (context: GetStaticPropsContext<{lang: string}>) => {
  // Get current locale (language code) from props generated by `getStaticPaths`.
  const locale: string = context.params!.lang;

  return {
    props: {
      // As a second argument to `serverSideTranslations` function you should define namespaces to load for this page.
      // As a fourth argument you can pass options - including option to override the default namespace to use for this page (optional).
      ...(await serverSideTranslations(locale, ['common', 'home'], i18nConfig, {defaultNS: 'home'})),
    },
  };
};

// ... also do the same for each page!
```

With this configuration `i18next` will look first for the translations from `home` namespace
and if not found then from `common` namespace (defined in the config as a fallback namespace).
